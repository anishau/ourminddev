---
layout: base.njk
title: Reset Password
---

<div class="auth-form">
  <h2>Set New Password</h2>
  <form id="newPasswordForm">
    <div class="form-group">
      <label for="newPassword">New Password</label>
      <input type="password" id="newPassword" name="password" required>
    </div>
    <button type="submit">Update Password</button>
  </form>
</div>

<script>
document.getElementById('newPasswordForm').addEventListener('submit', async (e) => {
  e.preventDefault()
  const newPassword = document.getElementById('newPassword').value

  try {
    const { error } = await supabase.auth.updateUser({
      password: newPassword
    })

    if (error) throw error

    alert('Password updated successfully')
    window.location.href = '/hearing-voices'
  } catch (error) {
    console.error('Error updating password:', error.message)
    alert(error.message)
  }
})
</script> 